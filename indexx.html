<!DOCTYPE html>
<html>
<head>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
</head>
<style>
    .over {
        background-color: yellow;
    }
    .selected {
        background-color: green;
    }
</style>

<body>
    <div id="buttons"></div>
    <table border='1' id="characterTable">
        <tr>
            <th>Name</th>
            <th>Role</th>
            <th>House</th>
            <th>Gender</th>
            <th>Alignment</th>
        </tr>
    </table>
    <button id="resetBtn">Reset</button>
</body>

<script>

    let characters = [
        {name: "Albus Dumbledore", role: "staff", house: "Gryffindor", gender: "m", alignment: "good"},    
        {name: "Nymphadora Tonks", role: "", house: "Hufflepuff", gender: "f", alignment: "good"},    
        {name: "Ron Weasley", role: "student", house: "Gryffindor", gender: "m", alignment: "good"},    
        {name: "Ginny Weasley", role: "student", house: "Gryffindor", gender: "f", alignment: "good"},    
        {name: "Hermione Granger", role: "student", house: "Gryffindor", gender: "f", alignment: "good"},    
        {name: "Mad-eye Moody", role: "staff", house: "", gender: "m", alignment: "good"},    
        {name: "Prof McGonagall", role: "staff", house: "Gryffindor", gender: "f", alignment: "good"},    
        {name: "Harry Potter", role: "student", house: "Gryffindor", gender: "m", alignment: "good"},    
        {name: "Draco Malfoy", role: "student", house: "Slytherin", gender: "m", alignment: "evil"},    
        {name: "Hagrid", role: "staff", house: "Gryffindor", gender: "m", alignment: "good"},    
        {name: "Luna Lovegood", role: "student", house: "Ravenclaw", gender: "f", alignment: "good"},    
        {name: "Voldemort", role: "", house: "Slytherin", gender: "m", alignment: "evil"},    
        {name: "Bellatrix Lestrange", role: "", house: "Slytherin", gender: "f", alignment: "evil"},           
        {name: "Severus Snape", role: "staff", house: "Slytherin", gender: "m", alignment: "?"}
    ];

    $(document).ready(function(){

        function addHouseButtons() {
            let houses = [];
            characters.forEach(character => {
                if (character.house && !houses.includes(character.house)) {
                    houses.push(character.house);
                    $('#buttons').append(`<button class="houseBtn">${character.house}</button>`);
                }
            });
        }


        function generateTableRows() {
            characters.forEach(character => {
                $('#characterTable').append(`
                    <tr class="characterRow" data-house="${character.house}">
                        <td>${character.name}</td>
                        <td>${character.role}</td>
                        <td>${character.house}</td>
                        <td>${character.gender}</td>
                        <td>${character.alignment}</td>
                    </tr>
                `);
            });
        }


        addHouseButtons();


        generateTableRows();


        $('#characterTable tr:even').addClass('over');


        $('.houseBtn').click(function() {
            let house = $(this).text();
            $('#characterTable tr').hide();
            $(`#characterTable tr[data-house="${house}"]`).show();
        });


        $('#resetBtn').click(function() {
            $('#characterTable tr').show();
        });
    });
</script>
</html>
