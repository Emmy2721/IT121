<!DOCTYPE html>
<html>
<head>
    <title>Canvas Animation</title>
    <style>
        canvas {
            border: 1px solid grey;
        }
    </style>
</head>
<body>
    <canvas id="myCanvas" width="300" height="150"></canvas>

    <script>
        // Create a canvas and get its 2D rendering context
        const myCanvas = document.createElement("canvas");
        document.body.appendChild(myCanvas);
        const ctx = myCanvas.getContext("2d");

        // Set the fill style to red and draw a rectangle
        ctx.fillStyle = "red";
        ctx.fillRect(20, 20, 150, 100);

        // Set the stroke style to blue and draw a line
        ctx.strokeStyle = "blue";
        ctx.beginPath();
        ctx.moveTo(20, 20);
        ctx.lineTo(20, 100);
        ctx.lineTo(70, 100);
        ctx.stroke();

        // Animation
        let ballX = myCanvas.width / 2;
        let ballY = myCanvas.height / 2;
        let ballRadius = 20;
        let dx = 2;
        let dy = -2;

        function drawBall() {
            ctx.clearRect(0, 0, myCanvas.width, myCanvas.height);
            ctx.beginPath();
            ctx.arc(ballX, ballY, ballRadius, 0, Math.PI * 2);
            ctx.fillStyle = 'green';
            ctx.fill();
            ctx.strokeStyle = 'black';
            ctx.stroke();
            ctx.closePath();
        }

        function animate() {
            drawBall();

            ballX += dx;
            ballY += dy;

            if (ballX + dx > myCanvas.width - ballRadius || ballX + dx < ballRadius) {
                dx = -dx;
            }

            if (ballY + dy > myCanvas.height - ballRadius || ballY + dy < ballRadius) {
                dy = -dy;
            }

            requestAnimationFrame(animate);
        }

        animate();
    </script>
</body>
</html>
